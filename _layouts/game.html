---
layout: default
---

{% include language-selector.html %}

{% assign current_lang = page.lang | default: site.default_lang %}
{% assign t = site.data.i18n[current_lang] %}

<article class="game-page" lang="{{ current_lang }}" itemscope itemtype="https://schema.org/Game">
  <header class="game-header">
    <h1 itemprop="name">{{ page.title }}</h1>

    <div class="game-meta" role="list" aria-label="Game metadata">
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.players }}:</span>
        <span class="meta-value" itemprop="numberOfPlayers">{{ page.players }}</span>
      </div>
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.duration }}:</span>
        <span class="meta-value" itemprop="playTime" content="PT{{ page.duration }}M">{{ page.duration }} {{ t.minutes | default: "min" }}</span>
      </div>
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.difficulty }}:</span>
        <span class="meta-value">{{ page.difficulty }}</span>
      </div>
      {% if page.age_range %}
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.age_range | default: "Edat" }}:</span>
        <span class="meta-value">{{ page.age_range }}</span>
      </div>
      {% endif %}
    </div>
  </header>

  <div class="game-content" itemprop="description">
    {{ content }}
  </div>

  <nav class="game-navigation" role="navigation" aria-label="Game navigation">
    <a href="/" class="back-link" aria-label="Back to games list">‚Üê {{ t.back_to_list }}</a>

    {% comment %} Language versions of this game {% endcomment %}
    {% assign game_name = page.title | slugify %}
    <div class="language-versions">
      <span class="versions-label">{{ t.other_languages | default: "Altres idiomes" }}:</span>
      {% for lang in site.languages %}
        {% unless lang == current_lang %}
          {% assign lang_file = "_games/" | append: game_name | append: "/" | append: game_name | append: "." | append: lang | append: ".md" %}
          {% for game in site.games %}
            {% if game.path contains lang_file or game.lang == lang and game.title == page.title %}
              <a href="{{ game.url }}"
                 class="lang-version-link"
                 hreflang="{{ lang }}"
                 aria-label="View {{ page.title }} in {{ site.lang_names[lang] }}">
                {{ site.lang_names[lang] }}
              </a>
            {% endif %}
          {% endfor %}
        {% endunless %}
      {% endfor %}
    </div>
  </nav>

  {% comment %} Hidden structured data for SEO {% endcomment %}
  <meta itemprop="inLanguage" content="{{ current_lang }}">
</article>

{% comment %} Add structured data for SEO {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Game",
  "name": "{{ page.title }}",
  "description": {{ page.excerpt | jsonify }},
  "numberOfPlayers": "{{ page.players }}",
  "playTime": "PT{{ page.duration }}M",
  "gameItem": {
    "@type": "Product",
    "name": "{{ page.title }}"
  },
  "inLanguage": "{{ current_lang }}"
}
</script>
