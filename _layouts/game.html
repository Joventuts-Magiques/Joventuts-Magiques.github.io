---
layout: default
---

{% assign current_lang = page.lang | default: site.default_lang %}
{% assign t = site.data.i18n[current_lang] %}

<article class="game-page" lang="{{ current_lang }}" itemscope itemtype="https://schema.org/Game">

  {% comment %} Breadcrumb Navigation {% endcomment %}
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <ol class="breadcrumb-list" itemscope itemtype="https://schema.org/BreadcrumbList">
      <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a href="/" itemprop="item" aria-label="{{ t.breadcrumb_home }}">
          <span itemprop="name">{{ t.breadcrumb_home }}</span>
        </a>
        <meta itemprop="position" content="1" />
      </li>
      <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        {% case current_lang %}
          {% when 'es' %}
            <a href="/es/juegos-mesa/" itemprop="item" aria-label="{{ t.breadcrumb_games }}">
              <span itemprop="name">{{ t.breadcrumb_games }}</span>
            </a>
          {% when 'en' %}
            <a href="/en/board-games/" itemprop="item" aria-label="{{ t.breadcrumb_games }}">
              <span itemprop="name">{{ t.breadcrumb_games }}</span>
            </a>
          {% else %}
            <a href="/ca/jocs-taula/" itemprop="item" aria-label="{{ t.breadcrumb_games }}">
              <span itemprop="name">{{ t.breadcrumb_games }}</span>
            </a>
        {% endcase %}
        <meta itemprop="position" content="2" />
      </li>
      <li class="breadcrumb-item breadcrumb-current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" aria-current="page">
        <span itemprop="name">{{ page.title }}</span>
        <meta itemprop="position" content="3" />
      </li>
    </ol>
  </nav>

  <header class="game-header">
    <h1 itemprop="name">{{ page.title }}</h1>

    <div class="game-meta" role="list" aria-label="Game metadata">
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.players }}:</span>
        <span class="meta-value" itemprop="numberOfPlayers">{{ page.players }}</span>
      </div>
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.duration }}:</span>
        <span class="meta-value" itemprop="playTime" content="PT{{ page.duration }}M">{{ page.duration }} {{ t.minutes | default: "min" }}</span>
      </div>
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.difficulty }}:</span>
        <span class="meta-value">{{ page.difficulty }}</span>
      </div>
      {% if page.age_range %}
      <div class="meta-item" role="listitem">
        <span class="meta-label">{{ t.age_range | default: "Edat" }}:</span>
        <span class="meta-value">{{ page.age_range }}</span>
      </div>
      {% endif %}
    </div>
  </header>

  {% comment %} Video Embed {% endcomment %}
  {% include video-embed.html %}

  {% comment %} Table of Contents {% endcomment %}
  {% include table-of-contents.html %}

  <div class="game-content" itemprop="description">
    {{ content }}
  </div>

  <nav class="game-navigation" role="navigation" aria-label="Game navigation">
    {% case current_lang %}
      {% when 'es' %}
        <a href="/es/juegos-mesa/" class="back-link" aria-label="Back to games list">← {{ t.back_to_list }}</a>
      {% when 'en' %}
        <a href="/en/board-games/" class="back-link" aria-label="Back to games list">← {{ t.back_to_list }}</a>
      {% else %}
        <a href="/ca/jocs-taula/" class="back-link" aria-label="Back to games list">← {{ t.back_to_list }}</a>
    {% endcase %}

    {% comment %} Language versions of this game {% endcomment %}
    {% assign game_name = page.title | slugify %}
    <div class="language-versions">
      <span class="versions-label">{{ t.other_languages | default: "Altres idiomes" }}:</span>
      {% for lang in site.languages %}
        {% unless lang == current_lang %}
          {% assign lang_file = "_games/" | append: game_name | append: "/" | append: game_name | append: "." | append: lang | append: ".md" %}
          {% for game in site.games %}
            {% if game.path contains lang_file or game.lang == lang and game.title == page.title %}
              <a href="{{ game.url }}"
                 class="lang-version-link"
                 hreflang="{{ lang }}"
                 aria-label="View {{ page.title }} in {{ site.lang_names[lang] }}">
                {{ site.lang_names[lang] }}
              </a>
            {% endif %}
          {% endfor %}
        {% endunless %}
      {% endfor %}
    </div>
  </nav>

  {% comment %} Hidden structured data for SEO {% endcomment %}
  <meta itemprop="inLanguage" content="{{ current_lang }}">
</article>

{% comment %} Add structured data for SEO {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Game",
  "name": "{{ page.title }}",
  "description": {{ page.excerpt | jsonify }},
  "numberOfPlayers": "{{ page.players }}",
  "playTime": "PT{{ page.duration }}M",
  {% if page.image %}
  {% if page.image contains 'http' %}
  "image": "{{ page.image }}",
  {% else %}
  "image": "{{ site.url }}{{ '/assets/images/games/' | append: page.title | slugify | append: '/' | append: page.image | relative_url }}",
  {% endif %}
  {% endif %}
  "gameItem": {
    "@type": "Product",
    "name": "{{ page.title }}"
  },
  "inLanguage": "{{ current_lang }}"
}
</script>
