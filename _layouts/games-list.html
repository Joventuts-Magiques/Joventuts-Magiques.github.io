---
layout: default
---

{% assign current_lang = page.lang | default: site.default_lang %}
{% assign t = site.data.i18n[current_lang] %}

<main class="games-list-content" role="main" aria-label="{{ page.title }}">
  <header class="page-header">
    <h1 class="page-title">{{ page.title }}</h1>

    <!-- Search and Filter Bar -->
    <div class="games-controls">
      <div class="search-box">
        <input type="text"
               id="game-search"
               class="search-input"
               placeholder="{{ t.search_placeholder | default: 'Cerca jocs...' }}"
               aria-label="Search games">
        <span class="search-icon" aria-hidden="true">üîç</span>
      </div>

      <div class="filter-controls">
        <select id="difficulty-filter" class="filter-select" aria-label="Filter by difficulty">
          <option value="all">{{ t.all_difficulties | default: "Totes les dificultats" }}</option>
          <option value="facil">{{ t.easy | default: "F√†cil" }}</option>
          <option value="mitja">{{ t.medium | default: "Mitj√†" }}</option>
          <option value="dificil">{{ t.hard | default: "Dif√≠cil" }}</option>
        </select>

        <select id="players-filter" class="filter-select" aria-label="Filter by player count">
          <option value="all">{{ t.all_players | default: "Tots els jugadors" }}</option>
          <option value="2">2 {{ t.players | default: "jugadors" }}</option>
          <option value="3-4">3-4 {{ t.players | default: "jugadors" }}</option>
          <option value="5+">5+ {{ t.players | default: "jugadors" }}</option>
        </select>

        <button id="sort-toggle" class="btn btn-secondary" aria-label="Sort games">
          <span>{{ t.sort | default: "Ordenar" }}</span>
          <span class="sort-icon" aria-hidden="true">‚¨áÔ∏è</span>
        </button>
      </div>
    </div>

    <!-- Game Count -->
    <div class="games-count">
      <span id="games-count-text">
        <span>{{ t.showing | default: "Mostrant" }}</span>
        <strong id="visible-count">0</strong>
        <span>{{ t.of | default: "de" }}</span>
        <strong id="total-count">0</strong>
        <span>{{ t.games | default: "jocs" }}</span>
      </span>
    </div>
  </header>

  <!-- Games Grid -->
  <section class="games-section" aria-labelledby="games-grid-title">
    <h2 id="games-grid-title" class="sr-only">{{ page.title }}</h2>

    <div class="games-grid" id="games-grid">
      {% if page.collection == 'games' %}
        {% assign collection = site.games %}
      {% elsif page.collection == 'card_games' %}
        {% assign collection = site.card_games %}
      {% endif %}

      {% assign games_by_title = collection | group_by: 'title' | sort: 'name' %}
      {% for game_group in games_by_title %}
        {% include game-card.html game_group=game_group %}
      {% endfor %}
    </div>

    <!-- No Results Message -->
    <div id="no-results" class="no-results" style="display: none;">
      <p>{{ t.no_results | default: "No s'han trobat jocs amb aquests criteris." }}</p>
      <button id="clear-filters" class="btn btn-primary">{{ t.clear_filters | default: "Esborrar filtres" }}</button>
    </div>
  </section>
</main>

<!-- Games Filter Script -->
<script src="{{ '/assets/js/games-filter.js' | relative_url }}" defer></script>
