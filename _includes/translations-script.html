{% comment %}
  Generate JavaScript translations object from i18n.yml
  This allows the language manager to use translations without hardcoding
{% endcomment %}

<script>
  window.siteTranslations = {
    {% for lang_data in site.data.i18n %}
    "{{ lang_data[0] }}": {
      {% for translation in lang_data[1] %}
      "{{ translation[0] }}": {{ translation[1] | jsonify }}{% unless forloop.last %},{% endunless %}
      {% endfor %}
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  };
</script>
